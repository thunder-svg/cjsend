(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();const p={};var x;const w=((x=p==null?void 0:p.VITE_API_BASE)==null?void 0:x.replace(/\/+$/,""))||"https://yee.mfleon32.workers.dev";function L(){const l=document.querySelector("#app");l&&(l.innerHTML=`
    <main style="max-width:720px;margin:24px auto;padding:16px">
      <h1 style="margin:0 0 12px">Thunder</h1>
      <form id="searchForm" style="display:flex;gap:8px;align-items:center">
        <input id="riotId" placeholder="GameName#TagLine" autocomplete="off" style="flex:1;padding:8px;border:1px solid #ccc;border-radius:6px"/>
        <button id="searchBtn" type="submit" style="padding:8px 12px;border:1px solid #ccc;border-radius:6px;cursor:pointer">검색</button>
      </form>
      <p id="msg" role="status" style="min-height:1.2em;margin:12px 0 0"></p>
      <pre id="out" style="white-space:pre-wrap;overflow:auto;border:1px solid #eee;border-radius:8px;padding:12px;margin-top:8px"></pre>
    </main>`)}function h(){L();const l=document.getElementById("msg"),u=document.getElementById("out"),o=document.getElementById("riotId"),c=document.getElementById("searchForm"),e=document.getElementById("searchBtn"),t=r=>l.textContent=r,n=r=>u.textContent=typeof r=="string"?r:JSON.stringify(r,null,2);let s=null;async function b(r){s==null||s.abort(),s=new AbortController,t("조회 중"),n(""),e.disabled=!0;const I=performance.now(),E=`${w}/summoner?riotId=${encodeURIComponent(r)}`;try{const i=setTimeout(()=>s==null?void 0:s.abort(),1e4),a=await fetch(E,{signal:s.signal,headers:{Accept:"application/json"}});clearTimeout(i);const y=Math.round(performance.now()-I);let d={};try{d=await a.json()}catch{}if(!a.ok){t(`오류 ${a.status} · ${y}ms`),n(d||a.statusText);return}t(`완료 · ${y}ms${d!=null&&d.cached?" · cache":""}`),n(d)}catch(i){const a=(i==null?void 0:i.name)==="AbortError";t(a?"타임아웃 10s":"네트워크 오류"),n(String(i))}finally{e.disabled=!1}}function f(){const r=((o==null?void 0:o.value)||"").trim();if(!r.includes("#")){t("형식: GameName#TagLine");return}localStorage.setItem("thunder:lastRiotId",r),b(r)}c==null||c.addEventListener("submit",r=>{r.preventDefault(),f()}),o==null||o.addEventListener("keydown",r=>{r.key==="Enter"&&r.preventDefault()});const g=new URLSearchParams(location.search),m=g.get("riotId")||g.get("q")||localStorage.getItem("thunder:lastRiotId")||"";o&&m&&(o.value=m),m&&f()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",h):h();
